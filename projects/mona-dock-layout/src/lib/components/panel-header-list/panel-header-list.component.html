<ul class="layout-header-list {{orientation()}} {{position()}} {{priority()}}"
    cdkDropList
    [cdkDropListOrientation]="dropListOrientation()"
    (cdkDropListDropped)="onPanelHeadersReordered($event, position(), priority())"
    [ngStyle]="headerListStyles()"
>
    @for (panel of panels(); track $index) {
        <li cdkDragPreviewClass="panel-header-drag"
            [class.opened]="panel.open()" [class.hidden]="!panel.visible()"
            (click)="onPanelHeaderClicked(panel)"
            cdkDrag #panelHeaderElement>
            <span>{{panel.title()}}</span>
            <mona-contextmenu [target]="panelHeaderElement" trigger="contextmenu">
                <mona-menu-item [disabled]="true">
                    <ng-template monaMenuItemTextTemplate>
                        <span style="color: var(--mona-text); font-weight: bold;">Panel Options</span>
                    </ng-template>
                </mona-menu-item>
                <mona-menu-item [divider]="true"></mona-menu-item>
                <mona-menu-item text="Move to" [visible]="panel.movable()">
                    <mona-menu-item text="Bottom Left" (menuClick)="movePanel(panel,'bottom', 'primary')"
                                    [disabled]="panel.position()==='bottom' && panel.priority()==='primary'"></mona-menu-item>
                    <mona-menu-item text="Bottom Right" (menuClick)="movePanel(panel,'bottom', 'secondary')"
                                    [disabled]="panel.position()==='bottom' && panel.priority()==='secondary'"></mona-menu-item>
                    <mona-menu-item text="Top Left" (menuClick)="movePanel(panel,'top', 'primary')"
                                    [disabled]="panel.position()==='top' && panel.priority()==='primary'"></mona-menu-item>
                    <mona-menu-item text="Top Right" (menuClick)="movePanel(panel,'top', 'secondary')"
                                    [disabled]="panel.position()==='top' && panel.priority()==='secondary'"></mona-menu-item>
                    <mona-menu-item text="Left Top" (menuClick)="movePanel(panel,'left', 'primary')"
                                    [disabled]="panel.position()==='left' && panel.priority()==='primary'"></mona-menu-item>
                    <mona-menu-item text="Left Bottom" (menuClick)="movePanel(panel,'left', 'secondary')"
                                    [disabled]="panel.position()==='left' && panel.priority()==='secondary'"></mona-menu-item>
                    <mona-menu-item text="Right Top" (menuClick)="movePanel(panel,'right', 'primary')"
                                    [disabled]="panel.position()==='right' && panel.priority()==='primary'"></mona-menu-item>
                    <mona-menu-item text="Right Bottom" (menuClick)="movePanel(panel,'right', 'secondary')"
                                    [disabled]="panel.position()==='right' && panel.priority()==='secondary'"></mona-menu-item>
                </mona-menu-item>
                <mona-menu-item text="View Mode">
                    <mona-menu-item text="Dock Pinned" (menuClick)="setPanelPinned(panel, true)"
                                    [disabled]="panel.pinned()"></mona-menu-item>
                    <mona-menu-item text="Dock Unpinned" (menuClick)="setPanelPinned(panel, false)"
                                    [disabled]="!panel.pinned()"></mona-menu-item>
                </mona-menu-item>
                <mona-menu-item [divider]="true"></mona-menu-item>
                <mona-menu-item text="Hide Panel" [visible]="panel.open()"
                                (menuClick)="togglePanel(panel, false)"></mona-menu-item>
                <mona-menu-item text="Show Panel" [visible]="!panel.open()"
                                (menuClick)="togglePanel(panel, true)"></mona-menu-item>
            </mona-contextmenu>
        </li>
    }
</ul>